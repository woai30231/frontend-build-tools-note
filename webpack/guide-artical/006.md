## 热替换

*这篇文档内容基于[上一篇](https://github.com/woai30231/frontend-build-tools-note/edit/master/webpack/guide-artical/005.md)内容*

热替换是webpack提供的一个非常有用的功能，它能保证在运行时不整体全部刷新的情况下更新对应更改的模块。这篇文档着重于介绍热替换的实现，而其工作原理及相关介绍可以去[这里](https://webpack.js.org/concepts/hot-module-replacement/)查看。

**这里需要说明一下，热替换只能用于开发环境，并不能在生产环境里面使用。更多介绍请到[building for production guide](https://webpack.js.org/guides/production/)查看！**

### 开启热替换

热替换能够极大地提升开发效率，现在所有我们需要做的只是修改webpack-dev-server配置文件，并使用其内置的热替换插件来开启热替换。我们现在需要移除print.js入口文件，并把其作为index.js入口的依赖文件。

**如果你使用的不是webpack-dev-server，那么你可能需要的是webpack-dev-middleware npm包，并在你自己的服务器中开启热替换。**

* webpack.config.js
```javascript
  const path = require('path');
  const HtmlWebpackPlugin = require('html-webpack-plugin');
  const CleanWebpackPlugin = require('clean-webpack-plugin');
+ const webpack = require('webpack');

  module.exports = {
    entry: {
-      app: './src/index.js',
-      print: './src/print.js'
+      app: './src/index.js'
    },
    devtool: 'inline-source-map',
    devServer: {
      contentBase: './dist',
+     hot: true
    },
    plugins: [
      new CleanWebpackPlugin(['dist']),
      new HtmlWebpackPlugin({
        title: 'Hot Module Replacement'
      }),
+     new webpack.HotModuleReplacementPlugin()
    ],
    output: {
      filename: '[name].bundle.js',
      path: path.resolve(__dirname, 'dist')
    }
  };
```
*当然了，你也可以采用命令行方式来开启热替换，在你运行webpack-dev-server命令的时候，带上--hotOnly!*




