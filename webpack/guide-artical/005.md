## 开发环境

*这里的相关介绍基于[输出管理](https://github.com/woai30231/frontend-build-tools-note/blob/master/webpack/guide-artical/004.md)*

在你看完这边文档之后，我相信你会的webpack开发者环境有一个基础的理解。在开始继续介绍之前，我先来介绍一下怎样开启开发模式，以便后续操作会更方便一点！

**注意，这里介绍的内容只能在开发环境中使用，请避免在生产环境中使用他们！**


### 使用源代码映射

当webpack打包代码之后，你将很难跟踪出错的代码在源代码中的位置。例如，假如有三个文件分别是a.js、b.js及c.js打包到bundle.js，如果其中一个文件代码包含一个错误，那么该错误将不会定位到源文件，而只是指向bundle.js文件，这对于我们解决bug很不友好和直观。

为了解决上面所说的问题，javascript提供了代码映射，具体来说就是，如果b.js中包含一个错误或警告，那么代码映射将会在bundle.js中将错误或警告映射到源代码中的确切位置。

代码映射有很多不同的选项[different options](https://webpack.js.org/configuration/devtool/)，我们可以按需要选择适合自己开发的选项。

在这篇文档里，我选择使用‘inline-source-map’，以便更好的说明代码映射。

* webpack.config.js

```javascript
  const path = require('path');
  const HtmlWebpackPlugin = require('html-webpack-plugin');
  const CleanWebpackPlugin = require('clean-webpack-plugin');

  module.exports = {
    entry: {
      app: './src/index.js',
      print: './src/print.js'
    },
+   devtool: 'inline-source-map',
    plugins: [
      new CleanWebpackPlugin(['dist']),
      new HtmlWebpackPlugin({
        title: 'Development'
      })
    ],
    output: {
      filename: '[name].bundle.js',
      path: path.resolve(__dirname, 'dist')
    }
  };
```
我们现在制造一点东西来调试，所以我们在print.js中故意加了一段错误代码：

* src/print.js

```javascript
  export default function printMe() {
-   console.log('I get called from print.js!');
+   cosnole.log('I get called from print.js!');
  }
```

如果此时我们运行npm run build命令，那么大概结果如下:

```bash
Hash: 7bf68ca15f1f2690e2d1
Version: webpack 3.1.0
Time: 1224ms
          Asset       Size  Chunks                    Chunk Names
  app.bundle.js    1.44 MB    0, 1  [emitted]  [big]  app
print.bundle.js    6.43 kB       1  [emitted]         print
     index.html  248 bytes          [emitted]
   [0] ./src/print.js 84 bytes {0} {1} [built]
   [1] ./src/index.js 403 bytes {0} [built]
   [3] (webpack)/buildin/global.js 509 bytes {0} [built]
   [4] (webpack)/buildin/module.js 517 bytes {0} [built]
    + 1 hidden module
Child html-webpack-plugin for "index.html":
       [2] (webpack)/buildin/global.js 509 bytes {0} [built]
       [3] (webpack)/buildin/module.js 517 bytes {0} [built]
        + 2 hidden modules
```
我们打开index.html，并在页面中点击按钮，打开开发控制台，将看到下面的报错信息：

```bash
 Uncaught ReferenceError: cosnole is not defined
    at HTMLButtonElement.printMe (print.js:2)
```
